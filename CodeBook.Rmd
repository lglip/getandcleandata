---
title: "CodeBook.md"
output: html_document
---

## Variables of 'data' and 'data2' from the run_analysis.R script

The following data frame provides an overview of the variables in data table `data` and `data2`. The former was first merged and tidied, containing the train and test data of the **Human Activity Recognition Using Smartphones Dataset**. The latter was constructed by using `data` as input.

```{r data variables, echo = FALSE, message = FALSE}
source("run_analysis.R", echo = FALSE, verbose = FALSE)
datavariables <- as.data.frame(names(data))
names(datavariables) <- c("Data Variables")
print(datavariables)
```

The first two variables in the data table are *Subject* and *Activity*, representing the subject number (integer between 1 and 30) and the activity (Walking, Walking Upstairs, Walking Downstairs, Sitting, Standing, Laying), respectively. The other 86 variables were selected by evaluating the name of each variable in the merged dataset and retaining only those variables containing the string *"mean()"* or *"std()"* via the `dplyr::select` function.

## Transformations of 'data' from the run_analysis.R script
After having assigned the appropriate column names to the variables of the dataset, the values (integer) of *Activity* were replaced by their respective activity label. The data frame below represents the *matching table* used in the process. The matching itself was performed through a *for* loop and by using the `replace` function.

```{r activity labels, echo = FALSE}
print(labels)
```

Eventually, the variable names were tidied using the `gsub` function, replacing any unwanted symbols like **"-"**, **","**, **"("** and **")"**. Where appropriate, the **t**s and **f**s were replaced by *time* and *freq*, respectively.

## Transformations of 'data2' from the run_analysis.R script

The second, independent tidy data set was named `data2` and contains the average of each variable for each activity and each subject. Before summarising by `mean()` using the `dplyr::summarise_all` function, the data were grouped by *Subject* and *Activity* through the `dplyr::group_by` function. A data table containing the first five rows (with truncated columns) of `data2` is shown below.

```{r data2, echo = FALSE, message = FALSE}
head(data2, 5)
```
